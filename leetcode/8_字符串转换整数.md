### `leetcode - 8 å­—ç¬¦ä¸²è½¬æ¢æ•´æ•°`

#### é¢˜ç›®æè¿°

> è¯·ä½ æ¥å®ç°ä¸€ä¸ª myAtoi(string s) å‡½æ•°ï¼Œä½¿å…¶èƒ½å°†å­—ç¬¦ä¸²è½¬æ¢æˆä¸€ä¸ª 32 ä½æœ‰ç¬¦å·æ•´æ•°ï¼ˆç±»ä¼¼ C/C++ ä¸­çš„ atoi å‡½æ•°ï¼‰ã€‚
>
> å‡½æ•° myAtoi(string s) çš„ç®—æ³•å¦‚ä¸‹ï¼š
>
> >   *   è¯»å…¥å­—ç¬¦ä¸²å¹¶ä¸¢å¼ƒæ— ç”¨çš„å‰å¯¼ç©ºæ ¼
> >   *   æ£€æŸ¥ä¸‹ä¸€ä¸ªå­—ç¬¦ï¼ˆå‡è®¾è¿˜æœªåˆ°å­—ç¬¦æœ«å°¾ï¼‰ä¸ºæ­£è¿˜æ˜¯è´Ÿå·ï¼Œè¯»å–è¯¥å­—ç¬¦ï¼ˆå¦‚æœæœ‰ï¼‰ã€‚ ç¡®å®šæœ€ç»ˆç»“æœæ˜¯è´Ÿæ•°è¿˜æ˜¯æ­£æ•°ã€‚ å¦‚æœä¸¤è€…éƒ½ä¸å­˜åœ¨ï¼Œåˆ™å‡å®šç»“æœä¸ºæ­£ã€‚
> >   *   è¯»å…¥ä¸‹ä¸€ä¸ªå­—ç¬¦ï¼Œç›´åˆ°åˆ°è¾¾ä¸‹ä¸€ä¸ªéæ•°å­—å­—ç¬¦æˆ–åˆ°è¾¾è¾“å…¥çš„ç»“å°¾ã€‚å­—ç¬¦ä¸²çš„å…¶ä½™éƒ¨åˆ†å°†è¢«å¿½ç•¥ã€‚
> >   *   å°†å‰é¢æ­¥éª¤è¯»å…¥çš„è¿™äº›æ•°å­—è½¬æ¢ä¸ºæ•´æ•°ï¼ˆå³ï¼Œ"123" -> 123ï¼Œ "0032" -> 32ï¼‰ã€‚å¦‚æœæ²¡æœ‰è¯»å…¥æ•°å­—ï¼Œåˆ™æ•´æ•°ä¸º 0 ã€‚å¿…è¦æ—¶æ›´æ”¹ç¬¦å·ï¼ˆä»æ­¥éª¤2 å¼€å§‹ï¼‰ã€‚
> >   *   å¦‚æœæ•´æ•°æ•°è¶…è¿‡ 32 ä½æœ‰ç¬¦å·æ•´æ•°èŒƒå›´ [âˆ’231, 231 âˆ’ 1] ï¼Œéœ€è¦æˆªæ–­è¿™ä¸ªæ•´æ•°ï¼Œä½¿å…¶ä¿æŒåœ¨è¿™ä¸ªèŒƒå›´å†…ã€‚å…·ä½“æ¥è¯´ï¼Œå°äº âˆ’231 çš„æ•´æ•°åº”è¯¥è¢«å›ºå®šä¸º âˆ’231 ï¼Œå¤§äº 231 âˆ’ 1 çš„æ•´æ•°åº”è¯¥è¢«å›ºå®šä¸º 231 âˆ’ 1 ã€‚
> >   *   è¿”å›æ•´æ•°ä½œä¸ºæœ€ç»ˆç»“æœã€‚
>
> *    æ³¨æ„ï¼š
>     *   æœ¬é¢˜ä¸­çš„ç©ºç™½å­—ç¬¦åªåŒ…æ‹¬ç©ºæ ¼å­—ç¬¦ ' ' ã€‚
>     *   é™¤å‰å¯¼ç©ºæ ¼æˆ–æ•°å­—åçš„å…¶ä½™å­—ç¬¦ä¸²å¤–ï¼Œè¯·å‹¿å¿½ç•¥ä»»ä½•å…¶ä»–å­—ç¬¦ã€‚
>
> 
>
> *   ç¤ºä¾‹ 1ï¼š
>
>     ```
>     è¾“å…¥ï¼šs = "42"
>     è¾“å‡ºï¼š42
>     è§£é‡Šï¼šåŠ ç²—çš„å­—ç¬¦ä¸²ä¸ºå·²ç»è¯»å…¥çš„å­—ç¬¦ï¼Œæ’å…¥ç¬¦å·æ˜¯å½“å‰è¯»å–çš„å­—ç¬¦ã€‚
>     ç¬¬ 1 æ­¥ï¼š"42"ï¼ˆå½“å‰æ²¡æœ‰è¯»å…¥å­—ç¬¦ï¼Œå› ä¸ºæ²¡æœ‰å‰å¯¼ç©ºæ ¼ï¼‰
>              ^
>     ç¬¬ 2 æ­¥ï¼š"42"ï¼ˆå½“å‰æ²¡æœ‰è¯»å…¥å­—ç¬¦ï¼Œå› ä¸ºè¿™é‡Œä¸å­˜åœ¨ '-' æˆ–è€… '+'ï¼‰
>              ^
>     ç¬¬ 3 æ­¥ï¼š"42"ï¼ˆè¯»å…¥ "42"ï¼‰
>                ^
>     è§£æå¾—åˆ°æ•´æ•° 42 ã€‚
>     ç”±äº "42" åœ¨èŒƒå›´ [-231, 231 - 1] å†…ï¼Œæœ€ç»ˆç»“æœä¸º 42 ã€‚
>     ```
>
> *    ç¤ºä¾‹ 2ï¼š
>
>      ```
>      è¾“å…¥ï¼šs = "   -42"
>      è¾“å‡ºï¼š-42
>      è§£é‡Šï¼š
>      ç¬¬ 1 æ­¥ï¼š"   -42"ï¼ˆè¯»å…¥å‰å¯¼ç©ºæ ¼ï¼Œä½†å¿½è§†æ‰ï¼‰
>                  ^
>      ç¬¬ 2 æ­¥ï¼š"   -42"ï¼ˆè¯»å…¥ '-' å­—ç¬¦ï¼Œæ‰€ä»¥ç»“æœåº”è¯¥æ˜¯è´Ÿæ•°ï¼‰
>                   ^
>      ç¬¬ 3 æ­¥ï¼š"   -42"ï¼ˆè¯»å…¥ "42"ï¼‰
>                     ^
>      è§£æå¾—åˆ°æ•´æ•° -42 ã€‚
>      ç”±äº "-42" åœ¨èŒƒå›´ [-231, 231 - 1] å†…ï¼Œæœ€ç»ˆç»“æœä¸º -42 ã€‚
>      ```
>
> *    ç¤ºä¾‹ 3ï¼š
>
>      ```
>      è¾“å…¥ï¼šs = "4193 with words"
>      è¾“å‡ºï¼š4193
>      è§£é‡Šï¼š
>      ç¬¬ 1 æ­¥ï¼š"4193 with words"ï¼ˆå½“å‰æ²¡æœ‰è¯»å…¥å­—ç¬¦ï¼Œå› ä¸ºæ²¡æœ‰å‰å¯¼ç©ºæ ¼ï¼‰
>               ^
>      ç¬¬ 2 æ­¥ï¼š"4193 with words"ï¼ˆå½“å‰æ²¡æœ‰è¯»å…¥å­—ç¬¦ï¼Œå› ä¸ºè¿™é‡Œä¸å­˜åœ¨ '-' æˆ–è€… '+'ï¼‰
>               ^
>      ç¬¬ 3 æ­¥ï¼š"4193 with words"ï¼ˆè¯»å…¥ "4193"ï¼›ç”±äºä¸‹ä¸€ä¸ªå­—ç¬¦ä¸æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œæ‰€ä»¥è¯»å…¥åœæ­¢ï¼‰
>                   ^
>      è§£æå¾—åˆ°æ•´æ•° 4193 ã€‚
>      ç”±äº "4193" åœ¨èŒƒå›´ [-231, 231 - 1] å†…ï¼Œæœ€ç»ˆç»“æœä¸º 4193 ã€‚
>      ```
>
> *    ç¤ºä¾‹ 4ï¼š
>
>      ```
>      è¾“å…¥ï¼šs = "words and 987"
>      è¾“å‡ºï¼š0
>      è§£é‡Šï¼š
>      ç¬¬ 1 æ­¥ï¼š"words and 987"ï¼ˆå½“å‰æ²¡æœ‰è¯»å…¥å­—ç¬¦ï¼Œå› ä¸ºæ²¡æœ‰å‰å¯¼ç©ºæ ¼ï¼‰
>               ^
>      ç¬¬ 2 æ­¥ï¼š"words and 987"ï¼ˆå½“å‰æ²¡æœ‰è¯»å…¥å­—ç¬¦ï¼Œå› ä¸ºè¿™é‡Œä¸å­˜åœ¨ '-' æˆ–è€… '+'ï¼‰
>               ^
>      ç¬¬ 3 æ­¥ï¼š"words and 987"ï¼ˆç”±äºå½“å‰å­—ç¬¦ 'w' ä¸æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œæ‰€ä»¥è¯»å…¥åœæ­¢ï¼‰
>               ^
>      è§£æå¾—åˆ°æ•´æ•° 0 ï¼Œå› ä¸ºæ²¡æœ‰è¯»å…¥ä»»ä½•æ•°å­—ã€‚
>      ç”±äº 0 åœ¨èŒƒå›´ [-231, 231 - 1] å†…ï¼Œæœ€ç»ˆç»“æœä¸º 0 ã€‚
>      ```
>
> *   ç¤ºä¾‹ 5ï¼š
>
>     ```
>     è¾“å…¥ï¼šs = "-91283472332"
>     è¾“å‡ºï¼š-2147483648
>     è§£é‡Šï¼š
>     ç¬¬ 1 æ­¥ï¼š"-91283472332"ï¼ˆå½“å‰æ²¡æœ‰è¯»å…¥å­—ç¬¦ï¼Œå› ä¸ºæ²¡æœ‰å‰å¯¼ç©ºæ ¼ï¼‰
>              ^
>     ç¬¬ 2 æ­¥ï¼š"-91283472332"ï¼ˆè¯»å…¥ '-' å­—ç¬¦ï¼Œæ‰€ä»¥ç»“æœåº”è¯¥æ˜¯è´Ÿæ•°ï¼‰
>               ^
>     ç¬¬ 3 æ­¥ï¼š"-91283472332"ï¼ˆè¯»å…¥ "91283472332"ï¼‰
>                          ^
>     è§£æå¾—åˆ°æ•´æ•° -91283472332 ã€‚
>     ç”±äº -91283472332 å°äºèŒƒå›´ [-231, 231 - 1] çš„ä¸‹ç•Œï¼Œæœ€ç»ˆç»“æœè¢«æˆªæ–­ä¸º -231 = -2147483648 ã€‚
>     ```
>
>
> 
>
> *   æç¤ºï¼š
>     *   `0 <= s.length <= 200`
>     *   s ç”±è‹±æ–‡å­—æ¯ï¼ˆå¤§å†™å’Œå°å†™ï¼‰ã€æ•°å­—ï¼ˆ`0-9`ï¼‰ã€`' '`ã€`'+'`ã€`'-'` å’Œ `'.'` ç»„æˆ
>
> *    Related Topics å­—ç¬¦ä¸²
> *    ğŸ‘ 1168 ğŸ‘ 0

#### æˆ‘çš„é¢˜è§£

```java
class Solution {
    public int myAtoi(String s) {
        if (s == null || "".equals(s.trim())) {
            return 0;
        }
        int ans = 0, i = 0, sign = 1;
        int maxTen = Integer.MAX_VALUE / 10, minTen = Integer.MIN_VALUE / 10;
        // å»å‰ç¼€é›¶
        s = s.trim();

        // é¢„å¤„ç†ï¼Œæœ‰ç¬¦å·ä½åˆ™å¾ªç¯ä»ç¬¬äºŒä½å¼€å§‹ï¼Œæœ‰é™¤æ•°å­—å’Œç¬¦å·ä½å¤–çš„å­—ç¬¦ç›´æ¥è¿”å›0
        if (s.charAt(0) == '-') {
            sign = -1;
            i = 1;
        } else if (s.charAt(0) == '+') {
            sign = 1;
            i = 1;
        } else if (!isNumber(s.charAt(0))) {
            return ans;
        }

        for (; i < s.length(); i++) {
            char c = s.charAt(i);

            if (isNumber(c)) {
                // çŠ¶æ€1ï¼šé‡åˆ°æ•°å­—
                int tmp = c - '0';
                if (ans * sign > maxTen || (ans * sign == maxTen && tmp > 7)) {
                    return Integer.MAX_VALUE;
                } else if (ans * sign < minTen || (ans * sign == minTen && tmp > 8)) {
                    return Integer.MIN_VALUE;
                }
                ans = ans * 10 + tmp;
            } else {
                // çŠ¶æ€2ï¼šé‡åˆ°å…¶ä»–ä»»ä½•å­—ç¬¦
                break;
            }
        }

        return ans * sign;
    }

    private boolean isNumber(char c) {
        return c >= '0' && c <= '9';
    }
}
```

![image-20210802160546395](8_å­—ç¬¦ä¸²è½¬æ¢æ•´æ•°.assets/image-20210802160546395.png)
